<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="{{url_for('static', filename='css/login.css') }}" rel="stylesheet" type="text/css"/>
    <title>Login</title>
</head>
<body>
        <div class="login-wrapper">
            <h2>Login</h2>
            <input type="text" id="user-email" name="userName" placeholder="Email">
            <input type="password" id="user-password" name="userPassword" placeholder="Password">
            <label for="remember-check">
                <input type="checkbox" id="remember-check">아이디 저장하기
            </label>
            <button class="login" onclick="logIn()">Login</button>
            <a href="/signUp" class="signup-link">회원가입</a>
        </div>
        <img src="{{ url_for('static', filename='images/login_bottom_img.png') }}" alt="Bottom Image" class="bottom-image">
        <script>
            function logIn() {
                var userEmail = document.getElementById("user-email").value;
                var userPassword = document.getElementById("user-password").value;
                if(userEmail.trim() === "") return;
                if(userPassword.trim() === "") return;

                fetch('/check_login', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify([
                        { email: userEmail },
                        { password: userPassword }
                    ])
                })
                .then(response => response.json())
                .then(data => {
                    if (data.redirect) {
                        window.location.href = data.redirect;
                    }
                })
            }
        </script>
</body>
</html>